"use strict";(self.webpackChunkterra_clinical=self.webpackChunkterra_clinical||[]).push([[7044],{28894:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var o=n(67294),r=n(81254),i=n(48805),l=["components"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var a={};function u(e){var t=e.components,n=c(e,l);return(0,r.mdx)("wrapper",s({},a,n,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport DataGrid from 'terra-clinical-data-grid';\nimport classNames from 'classnames/bind';\nimport ThemeContext from 'terra-theme-context';\nimport ContentCellLayout from './ContentCellLayout';\nimport styles from './Datagrid.module.scss';\nimport gridDataJSON from './Datagrid.json';\n\nconst cx = classNames.bind(styles);\n\nconst pinnedColumnsCount = 3;\nconst numColumnsDisplayed = 8;\nconst numberOfRowsPerSectionToDisplay = 15;\n\nclass DatagridWithSelections extends React.Component {\n  static buildColumns(data, start, end) {\n    const col = (new Array(end - start));\n    for (let columnIndex = start, currentElementIndex = 0; columnIndex <= end; columnIndex += 1, currentElementIndex += 1) {\n      const columnHeaderInfo = data.allColumnIds[columnIndex];\n      col[currentElementIndex] = {\n        id: columnHeaderInfo.id,\n        text: columnHeaderInfo.displayName,\n        width: 200,\n        isSelectable: true,\n        ...(columnIndex === 0) && { sortIndicator: 'ascending' },\n      };\n    }\n    return col;\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.buildSection = this.buildSection.bind(this);\n    this.buildRows = this.buildRows.bind(this);\n\n    this.state = {\n      selectedRow: undefined,\n      selectedCell: undefined,\n      columns: DatagridWithSelections.buildColumns(gridDataJSON, 0, pinnedColumnsCount - 1).concat(DatagridWithSelections.buildColumns(gridDataJSON, pinnedColumnsCount, numColumnsDisplayed)),\n      sortedColumnId: gridDataJSON.allColumnIds[0].id,\n      sortedColumnDirection: 'ascending',\n    };\n  }\n\n  buildRows(sectionData, numOfColumns, numberOfRowsToDisplay) {\n    const rows = (new Array(numberOfRowsToDisplay)).fill().map((rowVal, rowIndex) => ({\n      id: `${sectionData.section.id}-Row${rowIndex}`,\n      isSelectable: true,\n      isSelected: this.state.selectedRow && this.state.selectedRow.sectionId === sectionData.section.id && this.state.selectedRow.rowId === `${sectionData.section.id}-Row${rowIndex}`,\n      cells: (new Array(numOfColumns).fill(0)).map((cellVal, cellIndex) => ({\n        columnId: sectionData.sectionRows[rowIndex].cells[cellIndex].columnId,\n        isSelectable: true,\n        isSelected: this.state.selectedCell && this.state.selectedCell.sectionId === sectionData.section.id && this.state.selectedCell.rowId === `${sectionData.section.id}-Row${rowIndex}` && this.state.selectedCell.columnId === sectionData.sectionRows[rowIndex].cells[cellIndex].columnId,\n        component: <ContentCellLayout text={sectionData.sectionRows[rowIndex].cells[cellIndex].cellContent} />,\n      })),\n    }));\n\n    return this.state.sortedColumnId && this.state.sortedColumnDirection === 'ascending' ? rows : rows.reverse();\n  }\n\n  buildSection(sectionData, numberOfRows) {\n    return {\n      id: sectionData.section.id,\n      text: sectionData.section.text,\n      rows: this.buildRows(sectionData, this.state.columns.length, numberOfRows),\n    };\n  }\n\n  render() {\n    const { columns } = this.state;\n    const theme = this.context;\n\n    return (\n      <div className={cx('data-grid-basic')}>\n        <DataGrid\n          id=\"selections-example\"\n          pinnedColumns={columns.slice(0, pinnedColumnsCount)}\n          overflowColumns={columns.slice(3, numColumnsDisplayed)}\n          sections={[\n            this.buildSection(gridDataJSON.sections[0], numberOfRowsPerSectionToDisplay),\n            this.buildSection(gridDataJSON.sections[1], numberOfRowsPerSectionToDisplay),\n          ]}\n          fill\n          onColumnSelect={(columnId) => {\n            const newColumns = {};\n            const columnToSort = { ...columns.find(element => element.id === columnId) };\n            columnToSort.sortIndicator = columnToSort.sortIndicator === 'ascending' ? 'descending' : 'ascending';\n            newColumns[`${columnId}`] = columnToSort;\n\n            if (columnId !== this.state.sortedColumnId) {\n              const previouslySortedColumn = { ...columns.find(element => element.id === this.state.sortedColumnId) };\n              if (previouslySortedColumn) {\n                previouslySortedColumn.sortIndicator = undefined;\n                newColumns[`${this.state.sortedColumnId}`] = previouslySortedColumn;\n              }\n            }\n\n            this.setState(prevState => ({\n              columns: [...prevState.columns].map(val => (newColumns[val.id] ? newColumns[val.id] : val)),\n              sortedColumnId: columnId,\n              sortedColumnDirection: columnToSort.sortIndicator,\n            }));\n          }}\n          onCellSelect={(sectionId, rowId, columnId) => {\n            this.setState({\n              selectedRow: undefined,\n              selectedCell: {\n                sectionId,\n                rowId,\n                columnId,\n              },\n            });\n          }}\n          hasSelectableRows\n          onRowSelect={(sectionId, rowId) => {\n            this.setState({\n              selectedCell: undefined,\n              selectedRow: {\n                sectionId,\n                rowId,\n              },\n            });\n          }}\n          rowHeight={theme.className === 'orion-fusion-theme' ? '2.2rem' : undefined}\n        />\n      </div>\n    );\n  }\n}\n\nDatagridWithSelections.contextType = ThemeContext;\n\nexport default DatagridWithSelections;\n\n")))}u.isMDXComponent=!0;var d=n(49271),m=n(71577),f=function(e){var t=e.title,n=e.description,r=e.isExpanded;return o.createElement(d.Z,{title:t||"Datagrid With Selections",description:n,example:o.createElement(i.Z,null),exampleCssSrc:o.createElement(m.Z,null),exampleSrc:o.createElement(u,null),isExpanded:r})},p=["components"];function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},b.apply(this,arguments)}function y(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var w={},h="wrapper";function g(e){var t=e.components,n=y(e,p);return(0,r.mdx)(h,b({},w,n,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)(f,{description:"This example features selectable rows, cells, and column headers. \nColumn headers implement rudimentary sorting on selection. \nRows can be selected by interacting with the leading column.",mdxType:"DatagridWithSelections"}))}g.isMDXComponent=!0},71577:function(e,t,n){n.d(t,{Z:function(){return a}});n(67294);var o=n(81254),r=["components"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s={},c="wrapper";function a(e){var t=e.components,n=l(e,r);return(0,o.mdx)(c,i({},s,n,{components:t,mdxType:"MDXLayout"}),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-scss"},":local {\n  .data-grid-basic {\n    height: 800px;\n  }\n\n  .data-grid-row-style {\n    height: 100%;\n    width: 100%;\n  }\n\n  .data-grid-paging {\n    height: 800px;\n    position: relative;\n  }\n  \n  .loading-overlay {\n    top: 0;\n  }\n\n  .spacer-right-medium {\n    margin-right: 0.7142857143rem;\n  }\n}\n\n\n")))}a.isMDXComponent=!0},44455:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(67294)),r=c(n(45697)),i=c(n(47166)),l=c(n(50026)),s=c(n(63950));function c(e){return e&&e.__esModule?e:{default:e}}var a=i.default.bind(s.default),u={text:r.default.string},d=function(e){var t=e.text,n=o.default.useContext(l.default);return o.default.createElement("div",{className:a(["content-cell",n.className])},t)};d.contextType=l.default,d.propTypes=u;var m=d;t.default=m},48805:function(e,t,n){function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}t.Z=void 0;var r=d(n(67294)),i=d(n(44132)),l=d(n(47166)),s=d(n(50026)),c=d(n(44455)),a=d(n(3237)),u=d(n(37787));function d(e){return e&&e.__esModule?e:{default:e}}function m(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,h(o.key),o)}}function h(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var i=I(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}(this,n)}}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var O=l.default.bind(a.default),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(s,e);var t,n,o,l=v(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=l.call(this,e)).buildSection=t.buildSection.bind(C(t)),t.buildRows=t.buildRows.bind(C(t)),t.state={selectedRow:void 0,selectedCell:void 0,columns:s.buildColumns(u.default,0,2).concat(s.buildColumns(u.default,3,8)),sortedColumnId:u.default.allColumnIds[0].id,sortedColumnDirection:"ascending"},t}return t=s,o=[{key:"buildColumns",value:function(e,t,n){for(var o=new Array(n-t),r=t,i=0;r<=n;r+=1,i+=1){var l=e.allColumnIds[r];o[i]=b({id:l.id,text:l.displayName,width:200,isSelectable:!0},0===r&&{sortIndicator:"ascending"})}return o}}],(n=[{key:"buildRows",value:function(e,t,n){var o=this,i=new Array(n).fill().map((function(n,i){return{id:"".concat(e.section.id,"-Row").concat(i),isSelectable:!0,isSelected:o.state.selectedRow&&o.state.selectedRow.sectionId===e.section.id&&o.state.selectedRow.rowId==="".concat(e.section.id,"-Row").concat(i),cells:new Array(t).fill(0).map((function(t,n){return{columnId:e.sectionRows[i].cells[n].columnId,isSelectable:!0,isSelected:o.state.selectedCell&&o.state.selectedCell.sectionId===e.section.id&&o.state.selectedCell.rowId==="".concat(e.section.id,"-Row").concat(i)&&o.state.selectedCell.columnId===e.sectionRows[i].cells[n].columnId,component:r.default.createElement(c.default,{text:e.sectionRows[i].cells[n].cellContent})}}))}}));return this.state.sortedColumnId&&"ascending"===this.state.sortedColumnDirection?i:i.reverse()}},{key:"buildSection",value:function(e,t){return{id:e.section.id,text:e.section.text,rows:this.buildRows(e,this.state.columns.length,t)}}},{key:"render",value:function(){var e=this,t=this.state.columns,n=this.context;return r.default.createElement("div",{className:O("data-grid-basic")},r.default.createElement(i.default,{id:"selections-example",pinnedColumns:t.slice(0,3),overflowColumns:t.slice(3,8),sections:[this.buildSection(u.default.sections[0],15),this.buildSection(u.default.sections[1],15)],fill:!0,onColumnSelect:function(n){var o={},r=b({},t.find((function(e){return e.id===n})));if(r.sortIndicator="ascending"===r.sortIndicator?"descending":"ascending",o["".concat(n)]=r,n!==e.state.sortedColumnId){var i=b({},t.find((function(t){return t.id===e.state.sortedColumnId})));i&&(i.sortIndicator=void 0,o["".concat(e.state.sortedColumnId)]=i)}e.setState((function(e){return{columns:m(e.columns).map((function(e){return o[e.id]?o[e.id]:e})),sortedColumnId:n,sortedColumnDirection:r.sortIndicator}}))},onCellSelect:function(t,n,o){e.setState({selectedRow:void 0,selectedCell:{sectionId:t,rowId:n,columnId:o}})},hasSelectableRows:!0,onRowSelect:function(t,n){e.setState({selectedCell:void 0,selectedRow:{sectionId:t,rowId:n}})},rowHeight:"orion-fusion-theme"===n.className?"2.2rem":void 0}))}}])&&w(t.prototype,n),o&&w(t,o),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.default.Component);S.contextType=s.default;var x=S;t.Z=x},63950:function(e,t,n){n.r(t),t.default={"clinical-lowlight-theme":"ContentCellLayout__clinical-lowlight-theme___7jU7E","orion-fusion-theme":"ContentCellLayout__orion-fusion-theme___aErsg","content-cell":"ContentCellLayout__content-cell___31MKL"}},3237:function(e,t,n){n.r(t),t.default={"data-grid-basic":"Datagrid-module__data-grid-basic___L-mCc","data-grid-row-style":"Datagrid-module__data-grid-row-style___F+9EF","data-grid-paging":"Datagrid-module__data-grid-paging___3Ztyu","loading-overlay":"Datagrid-module__loading-overlay___GKOfW","spacer-right-medium":"Datagrid-module__spacer-right-medium___S3SyW"}}}]);